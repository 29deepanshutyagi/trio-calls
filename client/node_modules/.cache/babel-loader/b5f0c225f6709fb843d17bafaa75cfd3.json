{"ast":null,"code":"var _jsxFileName = \"/home/deepanshu/Documents/trio-calls/client/src/pages/meet/waitRoom/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport Preview from \"./Preview\";\nimport Box from \"@material-ui/core/Box\";\nimport Header from \"@arpitbhalla/trio-calls/components/Header\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { getMeet } from \"@arpitbhalla/trio-calls/utils/meeting.fetch\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport { useAppSelector, useAppDispatch } from \"core/hooks/redux\";\nimport { updateMeetDetails } from \"core/reducers/meeting\";\nimport { useTitle } from \"core/hooks/common\";\nimport { LoadingComponent } from \"./LoadingComponent\";\nimport { ReadyComponent } from \"./ReadyComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WaitingRoom = _ref => {\n  _s();\n\n  let {\n    joinMeetHandler\n  } = _ref;\n  const dispatch = useAppDispatch();\n  const {\n    meetID\n  } = useParams();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    UID\n  } = useAppSelector(_ref2 => {\n    let {\n      authReducer\n    } = _ref2;\n    return authReducer;\n  });\n  const [loading, setLoading] = React.useState(true);\n  const [meetOk, setMeetOk] = React.useState(null);\n  const history = useHistory();\n  useTitle(\"Join Meet\");\n  React.useEffect(() => {\n    getMeet(meetID, UID).then(details => {\n      const {\n        _id,\n        hostID,\n        title,\n        type\n      } = details;\n      dispatch(updateMeetDetails({\n        MID: _id || \"\",\n        hostID,\n        isHost: hostID === UID,\n        meetID,\n        title,\n        type\n      }));\n      setMeetOk(true);\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n      setMeetOk(false);\n      enqueueSnackbar(error || \"Something went wrong\", {\n        variant: \"error\"\n      });\n    });\n  }, [meetID, UID]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      elevation: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: meetOk === false ? /*#__PURE__*/_jsxDEV(Box, {\n        textAlign: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: \"Invalid meeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: \"Either link does not exist or you are not invited\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => history.push(\"/\"),\n          children: \"Return to home screen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 7,\n          children: /*#__PURE__*/_jsxDEV(Preview, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 5,\n          children: loading ? /*#__PURE__*/_jsxDEV(LoadingComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(ReadyComponent, {\n            joinMeetHandler: joinMeetHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(WaitingRoom, \"nKPp5HC1xYQsWoYdQhCc0As2HAE=\", false, function () {\n  return [useAppDispatch, useParams, useSnackbar, useAppSelector, useHistory, useTitle];\n});\n\n_c = WaitingRoom;\nexport default WaitingRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"WaitingRoom\");","map":{"version":3,"sources":["/home/deepanshu/Documents/trio-calls/client/src/pages/meet/waitRoom/index.tsx"],"names":["React","Container","Button","Preview","Box","Header","Typography","Grid","getMeet","useHistory","useParams","useSnackbar","useAppSelector","useAppDispatch","updateMeetDetails","useTitle","LoadingComponent","ReadyComponent","WaitingRoom","joinMeetHandler","dispatch","meetID","enqueueSnackbar","UID","authReducer","loading","setLoading","useState","meetOk","setMeetOk","history","useEffect","then","details","_id","hostID","title","type","MID","isHost","catch","error","variant","push"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport Preview from \"./Preview\";\nimport Box from \"@material-ui/core/Box\";\nimport Header from \"@arpitbhalla/trio-calls/components/Header\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { getMeet } from \"@arpitbhalla/trio-calls/utils/meeting.fetch\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport { useAppSelector, useAppDispatch } from \"core/hooks/redux\";\nimport { updateMeetDetails } from \"core/reducers/meeting\";\nimport { useTitle } from \"core/hooks/common\";\nimport { LoadingComponent } from \"./LoadingComponent\";\nimport { ReadyComponent } from \"./ReadyComponent\";\n\ntype Params = { meetID: string };\n\ntype WaitingRoomProps = {\n  joinMeetHandler: () => unknown;\n};\n\nconst WaitingRoom: React.FC<WaitingRoomProps> = ({ joinMeetHandler }) => {\n  const dispatch = useAppDispatch();\n  const { meetID } = useParams<Params>();\n  const { enqueueSnackbar } = useSnackbar();\n  const { UID } = useAppSelector(({ authReducer }) => authReducer);\n  const [loading, setLoading] = React.useState(true);\n  const [meetOk, setMeetOk] = React.useState<boolean | null>(null);\n  const history = useHistory();\n\n  useTitle(\"Join Meet\");\n\n  React.useEffect(() => {\n    getMeet(meetID, UID)\n      .then((details) => {\n        const { _id, hostID, title, type } = details;\n        dispatch(\n          updateMeetDetails({\n            MID: _id || \"\",\n            hostID,\n            isHost: hostID === UID,\n            meetID,\n            title,\n            type,\n          })\n        );\n        setMeetOk(true);\n        setLoading(false);\n      })\n      .catch((error) => {\n        setLoading(false);\n        setMeetOk(false);\n        enqueueSnackbar(error || \"Something went wrong\", {\n          variant: \"error\",\n        });\n      });\n  }, [meetID, UID]);\n\n  return (\n    <>\n      <Header elevation={1} />\n      <Container maxWidth=\"md\">\n        {meetOk === false ? (\n          <Box textAlign=\"center\">\n            <Typography variant=\"h4\">Invalid meeting</Typography>\n            <Typography variant=\"subtitle1\">\n              Either link does not exist or you are not invited\n            </Typography>\n            <br />\n            <br />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => history.push(\"/\")}\n            >\n              Return to home screen\n            </Button>\n          </Box>\n        ) : (\n          <Grid container alignItems=\"center\" spacing={1}>\n            <Grid item md={7}>\n              <Preview />\n            </Grid>\n            <Grid item md={5}>\n              {loading ? (\n                <LoadingComponent />\n              ) : (\n                <ReadyComponent joinMeetHandler={joinMeetHandler} />\n              )}\n            </Grid>\n          </Grid>\n        )}\n      </Container>\n    </>\n  );\n};\nexport default WaitingRoom;\n"]},"metadata":{},"sourceType":"module"}