{"ast":null,"code":"var _jsxFileName = \"/home/deepanshu/Documents/trio-calls/client/src/pages/meet/dashboard/Meet.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport clsx from \"clsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Controller from \"./components/Controller\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useVideoConf } from \"../hooks/useVideoConf\";\nimport { LeftBar, SidePanel, Sketch, Video } from \"./components\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: \"100%\",\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    padding: theme.spacing(1)\n  },\n  contentOff: {\n    marginRight: \"370px\"\n  }\n}));\n\nconst Meet = () => {\n  _s();\n\n  var _peerStream$current2, _myStream$current;\n\n  const [open, setOpen] = React.useState(false);\n  const classes = useStyles({\n    open\n  });\n  const {\n    myStream,\n    peerStream,\n    destroyConnection,\n    raiseHand\n  } = useVideoConf();\n  const [gridSize, setGridSize] = React.useState(1);\n  React.useEffect(() => {\n    var _peerStream$current;\n\n    const TOTAL_PARTICIPANTS = ((_peerStream$current = peerStream.current) === null || _peerStream$current === void 0 ? void 0 : _peerStream$current.size) || 0;\n    const GRID_SIZE = [12, 6, 4, 3, 3, 3, 3][TOTAL_PARTICIPANTS];\n    let mount = true;\n    if (mount) setGridSize(GRID_SIZE);\n    return () => {\n      mount = false;\n    };\n  }, [(_peerStream$current2 = peerStream.current) === null || _peerStream$current2 === void 0 ? void 0 : _peerStream$current2.size, (_myStream$current = myStream.current) === null || _myStream$current === void 0 ? void 0 : _myStream$current.active]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      height: \"88vh\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: clsx(classes.content, open && classes.contentOff),\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 1,\n          direction: \"row\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: gridSize,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              justifyContent: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Video, {\n                stream: myStream.current,\n                displayName: \"You\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), Array.from(peerStream.current || []).map(_ref => {\n            let [key, {\n              displayName,\n              stream\n            }] = _ref;\n            return /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: gridSize,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Video, {\n                  stream: stream,\n                  displayName: displayName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 21\n              }, this)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidePanel, {\n      open: open,\n      setOpen: setOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Controller, {\n      endCallHandler: destroyConnection,\n      raiseHandHandler: raiseHand\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LeftBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sketch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Meet, \"4LYV2Ci+DW7PaAA8aJYP2sxvWiI=\", false, function () {\n  return [useStyles, useVideoConf];\n});\n\n_c = Meet;\nexport default Meet;\n\nvar _c;\n\n$RefreshReg$(_c, \"Meet\");","map":{"version":3,"sources":["/home/deepanshu/Documents/trio-calls/client/src/pages/meet/dashboard/Meet.tsx"],"names":["React","clsx","Box","Controller","makeStyles","useVideoConf","LeftBar","SidePanel","Sketch","Video","Grid","useStyles","theme","content","width","transition","transitions","create","easing","sharp","duration","leavingScreen","padding","spacing","contentOff","marginRight","Meet","open","setOpen","useState","classes","myStream","peerStream","destroyConnection","raiseHand","gridSize","setGridSize","useEffect","TOTAL_PARTICIPANTS","current","size","GRID_SIZE","mount","active","Array","from","map","key","displayName","stream"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport clsx from \"clsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Controller from \"./components/Controller\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useVideoConf } from \"../hooks/useVideoConf\";\nimport { LeftBar, SidePanel, Sketch, Video } from \"./components\";\nimport Grid, { GridSize } from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    width: \"100%\",\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    padding: theme.spacing(1),\n  },\n  contentOff: {\n    marginRight: \"370px\",\n  },\n}));\n\nconst Meet: React.FC = () => {\n  const [open, setOpen] = React.useState(false);\n  const classes = useStyles({ open });\n\n  const { myStream, peerStream, destroyConnection, raiseHand } = useVideoConf();\n  const [gridSize, setGridSize] = React.useState(1);\n\n  React.useEffect(() => {\n    const TOTAL_PARTICIPANTS = peerStream.current?.size || 0;\n    const GRID_SIZE = [12, 6, 4, 3, 3, 3, 3][TOTAL_PARTICIPANTS];\n    let mount = true;\n    if (mount) setGridSize(GRID_SIZE);\n    return () => {\n      mount = false;\n    };\n  }, [peerStream.current?.size, myStream.current?.active]);\n\n  return (\n    <>\n      <Box display=\"flex\" height=\"88vh\" alignItems=\"center\">\n        <Box className={clsx(classes.content, open && classes.contentOff)}>\n          <Grid container spacing={1} direction=\"row\" alignItems=\"center\">\n            <Grid item xs={gridSize as GridSize}>\n              <Box display=\"flex\" justifyContent=\"center\">\n                <Video stream={myStream.current} displayName={\"You\"} />\n              </Box>\n            </Grid>\n            {Array.from(peerStream.current || []).map(\n              ([key, { displayName, stream }]) => {\n                return (\n                  <Grid key={key} item xs={gridSize as GridSize}>\n                    <Box display=\"flex\" justifyContent=\"center\">\n                      <Video stream={stream} displayName={displayName} />\n                    </Box>\n                  </Grid>\n                );\n              }\n            )}\n          </Grid>\n        </Box>\n      </Box>\n      <SidePanel open={open} setOpen={setOpen} />\n      <Controller\n        endCallHandler={destroyConnection}\n        raiseHandHandler={raiseHand}\n      />\n      <LeftBar />\n      <Sketch />\n    </>\n  );\n};\nexport default Meet;\n"]},"metadata":{},"sourceType":"module"}